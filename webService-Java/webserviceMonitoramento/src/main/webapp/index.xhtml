<?xml version="1.0" encoding="UTF-8"?>
<html  xmlns="http://www.w3.org/1999/xhtml"
       xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
       xmlns:p="http://primefaces.org/ui"
       xmlns:h="http://xmlns.jcp.org/jsf/html"
       xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>
            <ui:insert name="titulo">
                Monitoramento
            </ui:insert>
        </title>
        <f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
            <meta name="apple-mobile-web-app-capable" content="yes" />
        </f:facet>

        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <h:outputStylesheet library="webjars" name="primeflex/2.0.0/primeflex.min.css" />
    </h:head>

    <h:body>
        <style>
            .tituloCont {
                display: flex;
                margin-top: 2%;
                justify-content: center;
                align-items: center;
                font-size: 32px;
            }

            .content{
                margin-left: 5%;
                margin-right: 5%;
            }

            .center{
                text-align: center;
            }

            .ui-panelgrid .ui-panelgrid-cell{
                padding: 0.3rem !important;
            }

            .ui-card{
                height: 350px;
            }

            .ui-card .ui-card-title{
                text-align: center;
            }

            .ui-card .ui-card-subtitle{
                text-align: center;
                font-size: 22px;
            }
        </style>

        <h:form id="form1">
            <p:poll interval="3" listener="#{monitoramentoBean.attInfosRasp()}" update="dash" />

            <p:outputPanel id="dash">
                <div class="content">
                    <h1 class="tituloCont">Monitoramento de Raspberries</h1>
                    <p:panelGrid columns="2" layout="grid">
                        <p:panelGrid columns="1" layout="grid">
                            <p:card>
                                <f:facet name="title">
                                    Memória Ram Utilizada
                                </f:facet>

                                <f:facet name="subtitle">
                                    #{monitoramentoBean.raspMon.monInfoRamUtilizada}M
                                </f:facet>

                                <div class="center">
                                    <p:knob labelTemplate="{value}%" colorTheme="hot-sneaks" value="#{monitoramentoBean.porcentagemUtilizacaoRam}" disabled="true"/>
                                </div>

                            </p:card>
                        </p:panelGrid>

                        <p:panelGrid columns="1" layout="grid">
                            <p:card>
                                <f:facet name="title">
                                    Memória Ram Disponível
                                </f:facet>

                                <f:facet name="subtitle">
                                    #{monitoramentoBean.raspMon.monInfoRamDisp}M
                                </f:facet>

                                <div class="center">
                                    <p:knob labelTemplate="{value}%" foregroundColor="#2196F3" backgroundColor="#495057" value="#{monitoramentoBean.porcentagemRamDisponivel}" disabled="true"/>
                                </div>
                            </p:card>
                        </p:panelGrid>
                    </p:panelGrid>

                    <p:panelGrid columns="2" layout="grid">
                        <p:panelGrid columns="1" layout="grid">
                            <p:card>
                                <f:facet name="title">
                                    Disco Utilizado
                                </f:facet>

                                <f:facet name="subtitle">
                                    #{monitoramentoBean.raspMon.monInfoDiscoUtilizado}G
                                </f:facet>

                                <div class="center">
                                    <p:knob labelTemplate="{value}%" colorTheme="hot-sneaks" value="#{monitoramentoBean.porcentagemUtilizacaoDisco}" disabled="true"/>
                                </div>

                            </p:card>
                        </p:panelGrid>

                        <p:panelGrid columns="1" layout="grid">
                            <p:card>
                                <f:facet name="title">
                                    Disco Disponível
                                </f:facet>

                                <f:facet name="subtitle">
                                    #{monitoramentoBean.raspMon.monInfoDiscoDisp}G
                                </f:facet>

                                <div class="center">
                                    <p:knob labelTemplate="{value}%" foregroundColor="#2196F3" backgroundColor="#495057" value="#{monitoramentoBean.porcentagemDiscoDisponivel}" disabled="true"/>
                                </div>
                            </p:card>
                        </p:panelGrid>
                    </p:panelGrid>

                    <p:panelGrid columns="2" layout="grid">
                        <p:panelGrid columns="1" layout="grid">
                            <p:card>
                                <f:facet name="title">
                                    CPU Utilizado
                                </f:facet>

                                <div class="center">
                                    <p:knob labelTemplate="{value}%" colorTheme="hot-sneaks" value="#{monitoramentoBean.raspMon.monInfoCpuUtilizada}" disabled="true"/>
                                </div>

                            </p:card>
                        </p:panelGrid>

                        <p:panelGrid columns="1" layout="grid">
                            <p:card>
                                <f:facet name="title">
                                    CPU Disponível
                                </f:facet>

                                <div class="center">
                                    <p:knob labelTemplate="{value}%" colorTheme="hot-sneaks" value="#{monitoramentoBean.raspMon.monInfoCpuDisp}" disabled="true"/>
                                </div>
                            </p:card>
                        </p:panelGrid>
                    </p:panelGrid>

                    <p:panelGrid columns="2" layout="grid">
                        <p:panelGrid columns="1" layout="grid">
                            <p:card>
                                <f:facet name="title">
                                    Temperatura
                                </f:facet>

                                <f:facet name="subtitle">
                                    <p:knob labelTemplate="{value}°C" colorTheme="hot-sneaks" value="#{monitoramentoBean.raspMon.monInfoTemperatura}" disabled="true"/>
                                </f:facet>
                            </p:card>
                        </p:panelGrid>

                        <p:panelGrid columns="1" layout="grid">
                            <p:card>
                                <f:facet name="title">
                                    Processos em Execução
                                </f:facet>

                                <f:facet name="subtitle">
                                    #{monitoramentoBean.raspMon.monInfoQntdProcessos}
                                </f:facet>
                            </p:card>
                        </p:panelGrid>
                    </p:panelGrid>
                </div>
            </p:outputPanel>
        </h:form>
    </h:body>
</html>